Version 4
SHEET 1 880 680
WIRE 192 -192 -112 -192
WIRE 416 -192 192 -192
WIRE 48 -112 16 -112
WIRE 160 -112 128 -112
WIRE 288 -112 160 -112
WIRE -112 -96 -112 -192
WIRE 288 -80 288 -112
WIRE 160 -32 160 -112
WIRE 192 -32 192 -192
WIRE 16 0 16 -112
WIRE 144 0 16 0
WIRE 288 0 288 -16
WIRE 416 16 416 -192
WIRE 176 64 176 32
WIRE -112 96 -112 -16
WIRE 16 192 16 0
WIRE 64 192 16 192
WIRE 176 192 176 144
WIRE 176 192 144 192
WIRE 176 224 176 192
WIRE 16 272 16 192
WIRE 16 272 -112 272
WIRE 160 272 16 272
WIRE 416 272 416 80
WIRE 416 272 256 272
WIRE -112 336 -112 272
WIRE 416 336 416 272
WIRE -112 464 -112 416
WIRE 416 464 416 400
FLAG -112 96 0
FLAG -112 464 0
FLAG 416 464 0
FLAG 208 0 0
FLAG 288 0 0
SYMBOL pmos 256 224 R90
SYMATTR InstName M1
SYMATTR Value irf9317
SYMATTR Prefix X
SYMBOL diode 400 16 R0
SYMATTR InstName D1
SYMATTR Value MBRB1645
SYMBOL res 160 176 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R1
SYMATTR Value 27k
SYMBOL res 192 48 M0
SYMATTR InstName R2
SYMATTR Value 5.6k
SYMBOL voltage -112 320 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value 24
SYMBOL voltage -112 -112 M0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V2
SYMATTR Value PULSE(3.3 18 0 10m 1n 1n 0 20)
SYMBOL load 400 336 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName I1
SYMATTR Value 1
SYMBOL Opamps\\opamp2 112 0 M90
SYMATTR InstName U1
SYMATTR Value BA8391
SYMBOL zener 272 -16 M180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D2
SYMATTR Value BZX84C8V2LT116
SYMBOL res 144 -128 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R5
SYMATTR Value 2.2k
TEXT -376 160 Left 2 !.lib MBRB1645.spi
TEXT -368 208 Left 2 !.lib irf9317.spi
TEXT -460 -192 Left 2 !.tran 0 500m 0 500u
TEXT -432 80 Left 2 !,lib BA8391.lib
